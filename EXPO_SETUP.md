# Expo Prebuild Setup

This project now supports Expo prebuild workflow! This means you can use Expo's powerful configuration system while maintaining full control over native code when needed.

## What is Expo Prebuild?

Expo prebuild generates native iOS and Android directories from your app configuration (`app.json`). This allows you to:

- Use Expo's simplified configuration system
- Generate native projects on-demand
- Keep native folders out of version control
- Easily manage native dependencies and permissions

## Getting Started

### 1. Install Dependencies

```bash
npm install
```

### 2. Generate Native Projects

Run prebuild to generate the `ios/` and `android/` folders:

```bash
npm run prebuild
```

Or to clean and regenerate:

```bash
npm run prebuild:clean
```

### 3. Run the App

#### iOS
```bash
npm run ios
```

#### Android
```bash
npm run android
```

### 4. Start Development Server

```bash
npm start
```

This will start the Expo development server with enhanced developer tools.

## Configuration

All app configuration is managed through `app.json`. Key settings include:

- **App metadata**: name, slug, version
- **Native settings**: bundle identifiers, permissions, icons
- **Plugins**: Expo config plugins for native modules
- **Permissions**: iOS Info.plist and Android manifest permissions

## Assets

The project requires these assets in the `assets/` directory:

- `icon.png` - App icon (1024x1024)
- `splash.png` - Splash screen (recommended: 1284x2778)
- `adaptive-icon.png` - Android adaptive icon (1024x1024)
- `favicon.png` - Web favicon (48x48)

You can generate placeholder assets or create custom ones.

## Important Notes

- **Native folders are gitignored**: The `ios/` and `android/` folders are generated by prebuild and not committed to git
- **Run prebuild after adding native dependencies**: When you add a new native module, run `npm run prebuild:clean` to regenerate native projects
- **Custom native modifications**: If you need to modify native code manually, you can eject from Expo or use config plugins

## Scripts

- `npm start` - Start Expo development server
- `npm run ios` - Build and run iOS app
- `npm run android` - Build and run Android app
- `npm run prebuild` - Generate native projects
- `npm run prebuild:clean` - Clean and regenerate native projects
- `npm run lint` - Run ESLint
- `npm run test` - Run tests
- `npm run typecheck` - Run TypeScript type checking

## Troubleshooting

### Prebuild Issues

If you encounter issues with prebuild:

1. Clean the prebuild: `npm run prebuild:clean`
2. Clear node modules: `rm -rf node_modules && npm install`
3. Clear Expo cache: `npx expo start -c`

### Native Dependencies

Some native modules may require additional configuration:

- Check the module's documentation for Expo config plugins
- Add any required permissions to `app.json`
- Run `npm run prebuild:clean` after configuration changes

## Learn More

- [Expo Prebuild Documentation](https://docs.expo.dev/workflow/prebuild/)
- [Expo Config Documentation](https://docs.expo.dev/workflow/configuration/)
- [Expo Config Plugins](https://docs.expo.dev/config-plugins/introduction/)
